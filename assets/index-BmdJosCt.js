(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&c(a)}).observe(document,{childList:!0,subtree:!0});function o(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(e){if(e.ep)return;e.ep=!0;const n=o(e);fetch(e.href,n)}})();const p=s=>{const t=document.createElement("select");return t.setAttribute("name",`agents-${s}`),t},g=(s,t)=>{for(let o=0;o<t.length;o++){const c=document.createElement("option");c.setAttribute("value",`${t[o].name}`),c.textContent=t[o].name,s.append(c)}},E=(s,t)=>{const o=document.createElement("h2");o.id="formHeading",o.textContent="Form Your Team",s.append(o);for(let n=0;n<5;n++){const a=p(n+1);g(a,t),s.append(a)}const c=document.createElement("button");c.setAttribute("type","button"),c.id="random-button",c.textContent="Random";const e=document.createElement("button");e.setAttribute("type","submit"),e.textContent="Button",s.append(e,c)},y=s=>{const t=document.createElement("h2");t.id="defenders";const o=document.createElement("p"),c=document.createElement("p"),e=document.createElement("p"),n=document.createElement("p"),a=document.createElement("p"),r=document.createElement("span");r.id="results-agent";const l=document.createElement("span");l.id="results-agent2";const m=document.createElement("span");m.id="results-agent3";const d=document.createElement("span");d.id="results-agent4";const u=document.createElement("span");u.id="results-agent5",o.appendChild(r),c.appendChild(l),e.appendChild(m),n.appendChild(d),a.appendChild(u),s.append(t,o,c,e,n,a)},f=s=>{const t=document.createElement("h2");t.id="attackers";const o=document.createElement("p"),c=document.createElement("p"),e=document.createElement("p"),n=document.createElement("p"),a=document.createElement("p"),r=document.createElement("span");r.id="results-agent-enemy";const l=document.createElement("span");l.id="results-agent2-enemy";const m=document.createElement("span");m.id="results-agent3-enemy";const d=document.createElement("span");d.id="results-agent4-enemy";const u=document.createElement("span");u.id="results-agent5-enemy",o.appendChild(r),c.appendChild(l),e.appendChild(m),n.appendChild(d),a.appendChild(u),s.append(t,o,c,e,n,a)},h=()=>{const s=["Defenders","Attackers"];return s[Math.floor(Math.random()*s.length)]},i=async()=>{const s="https://valorant-api.com/v1/agents";try{const t=await fetch(s);if(!t.ok)throw console.log(new Error("Failed to get Agents")),new Error("Failed to get Agents");return(await t.json()).data.map(e=>{const n=e.abilities.map(a=>({abilityName:a.displayName,description:a.description}));return{name:e.displayName,pictureUrl:`https://media.valorant-api.com/agents/${e.uuid}/fullportrait.png`,icon:`https://media.valorant-api.com/agents/${e.uuid}/displayicon.png`,role:e.role?e.role.displayName:null,abilities:n}})}catch(t){return console.warn(t.message),null}};i();const C=(s,t)=>{s.innerHTML="",t.forEach(o=>{const c=document.createElement("li"),e=document.createElement("h1"),n=document.createElement("h2"),a=document.createElement("img"),r=document.createElement("ul");e.textContent=o.name,n.textContent=`Role: ${o.role}!`,a.src=o.pictureUrl,o.abilities.forEach(l=>{const m=document.createElement("li"),d=document.createElement("p"),u=document.createElement("p");d.textContent=l.abilityName,u.textContent=l.description,m.append(d,u),r.append(m)}),c.append(e,n,a,r),s.append(c)})};async function b(s){const t=document.getElementById("agent-list");s.append(t);const o=await i();console.log(o),C(t,o)}async function x(s){document.getElementById("your-team").append(s)}async function B(s){const t=document.createElement("form");t.id="battle-form",s.append(t),y(document.querySelector("#your-team"));const o=await i();console.log(o),E(t,o),t.addEventListener("submit",async c=>{c.preventDefault();const e=c.target,n=Object.fromEntries(new FormData(e));document.querySelector("#defenders").textContent="Defending";const a=document.getElementById("results-agent"),r=document.getElementById("results-agent2"),l=document.getElementById("results-agent3"),m=document.getElementById("results-agent4"),d=document.getElementById("results-agent5");a.textContent=n["agents-1"],r.textContent=n["agents-2"],l.textContent=n["agents-3"],m.textContent=n["agents-4"],d.textContent=n["agents-5"],e.reset()}),document.getElementById("random-button").addEventListener("click",async()=>{const c=t.querySelectorAll("option"),e=[];c.forEach(r=>{r.value&&e.push(r.value)});const n=A(e,5);console.log(n);const a=document.querySelector("#enemy-team");a.innerHTML="",f(a),document.getElementById("attackers").textContent="Attacking",document.getElementById("results-agent-enemy").textContent=n[0],document.getElementById("results-agent2-enemy").textContent=n[1],document.getElementById("results-agent3-enemy").textContent=n[2],document.getElementById("results-agent4-enemy").textContent=n[3],document.getElementById("results-agent5-enemy").textContent=n[4]})}const A=(s,t)=>s.sort(()=>.5-Math.random()).slice(0,t);function I(s){document.getElementById("fight").addEventListener("click",()=>{const o=h(),c=document.getElementById("WINNER-result");c.textContent=o})}const v=document.querySelector("#agents");b(v);const S=document.querySelector("#form-results");x(S);const N=document.querySelector("#team");B(N);document.querySelector("#battle-results");I();
