(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function o(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(e){if(e.ep)return;e.ep=!0;const n=o(e);fetch(e.href,n)}})();const p=s=>{const t=document.createElement("select");return t.setAttribute("name",`agents-${s}`),t},g=(s,t)=>{for(let o=0;o<t.length;o++){const r=document.createElement("option");r.setAttribute("value",`${t[o].name}`),r.textContent=t[o].name,s.append(r)}},f=(s,t)=>{const o=document.createElement("h2");o.id="formHeading",o.textContent="Form your team!",s.append(o);for(let e=0;e<5;e++){const n=p(e+1);g(n,t),s.append(n)}const r=document.createElement("button");r.setAttribute("type","submit"),r.textContent="Button",s.append(r)},E=s=>{const t=document.createElement("h2");t.id="defenders";const o=document.createElement("p"),r=document.createElement("p"),e=document.createElement("p"),n=document.createElement("p"),c=document.createElement("p"),a=document.createElement("span");a.id="results-agent";const l=document.createElement("span");l.id="results-agent2";const i=document.createElement("span");i.id="results-agent3";const d=document.createElement("span");d.id="results-agent4";const m=document.createElement("span");m.id="results-agent5",o.appendChild(a),r.appendChild(l),e.appendChild(i),n.appendChild(d),c.appendChild(m),s.append(t,o,r,e,n,c)},y=()=>{const s=["Defenders","Attackers"];return s[Math.floor(Math.random()*s.length)]},u=async()=>{const s="https://valorant-api.com/v1/agents";try{const t=await fetch(s);if(!t.ok)throw console.log(new Error("Failed to get Agents")),new Error("Failed to get Agents");return(await t.json()).data.map(e=>{const n=e.abilities.map(c=>({abilityName:c.displayName,description:c.description}));return{name:e.displayName,pictureUrl:`https://media.valorant-api.com/agents/${e.uuid}/fullportrait.png`,icon:`https://media.valorant-api.com/agents/${e.uuid}/displayicon.png`,role:e.role?e.role.displayName:null,abilities:n}})}catch(t){return console.warn(t.message),null}};u();const h=(s,t)=>{s.innerHTML="",t.forEach(o=>{const r=document.createElement("li"),e=document.createElement("h1"),n=document.createElement("h2"),c=document.createElement("img"),a=document.createElement("ul");e.textContent=o.name,n.textContent=`Role: ${o.role}!`,c.src=o.pictureUrl,o.abilities.forEach(l=>{const i=document.createElement("li"),d=document.createElement("p"),m=document.createElement("p");d.textContent=l.abilityName,m.textContent=l.description,i.append(d,m),a.append(i)}),r.append(e,n,c,a),s.append(r)})};async function b(s){const t=document.getElementById("agent-list");s.append(t);const o=await u();console.log(o),h(t,o)}async function C(s){document.getElementById("your-team").append(s)}async function x(s){const t=document.createElement("form");t.id="battle-form",s.append(t),E(s);const o=await u();console.log(o),f(t,o),t.addEventListener("submit",async r=>{r.preventDefault();const e=r.target,n=Object.fromEntries(new FormData(e));document.querySelector("#defenders").textContent="Defenders!";const c=document.getElementById("results-agent"),a=document.getElementById("results-agent2"),l=document.getElementById("results-agent3"),i=document.getElementById("results-agent4"),d=document.getElementById("results-agent5");c.textContent=n["agents-1"],a.textContent=n["agents-2"],l.textContent=n["agents-3"],i.textContent=n["agents-4"],d.textContent=n["agents-5"],e.reset()})}function v(s){document.getElementById("fight").addEventListener("click",()=>{const o=y(),r=document.getElementById("WINNER-result");r.textContent=o})}const A=document.querySelector("#agents");b(A);const N=document.querySelector("#form-results");C(N);const B=document.querySelector("#team");x(B);document.querySelector("#battle-results");v();
